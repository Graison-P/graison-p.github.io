<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>The Frillion Dollar Homepage</title>
    <style>
        :root { --neon: #0f0; --warning: #ff0; }
        
        body { 
            background: #f0f0f0; /* Classic gray background */
            margin: 0; padding: 0;
            display: flex; flex-direction: column; align-items: center;
            font-family: "Courier New", Courier, monospace;
            overflow-x: hidden;
        }

        /* --- THE SHUTTER (Launch Overlay) --- */
        #launch-overlay {
            position: fixed; top: 0; left: 0;
            width: 100vw; height: 100vh;
            background: rgba(0, 0, 0, 0.9);
            z-index: 1000;
            display: flex; flex-direction: column;
            justify-content: center; align-items: center;
            color: var(--neon);
            text-align: center;
            transition: opacity 2s ease, visibility 2s;
        }

        #timer { 
            font-size: clamp(3rem, 10vw, 5rem); 
            font-family: "Bauhaus 93", sans-serif; 
            margin: 20px 0;
        }

        .keister-msg { font-size: 0.9rem; color: #444; max-width: 80%; line-height: 1.4; }

        /* --- THE CLASSIC 1000x1000 GRID --- */
        .grid-container {
            width: 1000px; height: 1000px;
            background: #fff;
            border: 5px solid #333;
            position: relative;
            margin: 20px 0;
            background-image: linear-gradient(#eee 1px, transparent 1px), linear-gradient(90deg, #eee 1px, transparent 1px);
            background-size: 10px 10px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }

        /* Logic: Hide overlay when you're authenticated or time is up */
        body.is-you #launch-overlay { opacity: 0; visibility: hidden; }

        #reticle {
            position: absolute; width: 10px; height: 10px;
            border: 1px solid red; display: none; pointer-events: none;
            background: rgba(255, 0, 0, 0.2);
        }

        /* Mobile Scrolling Hack */
        .viewport-lock { width: 100vw; overflow-x: auto; display: flex; justify-content: center; }
    </style>
</head>
<body>

    <div id="launch-overlay">
        <div id="auth-zone" style="cursor: pointer;">
            <div style="letter-spacing: 5px; font-size: 0.8rem;">[ SYSTEM LOCKED ]</div>
            <div id="timer">00:00:00</div>
            <div id="label" style="font-size: 0.7rem; color: #666;">Hold timer to verify Identity</div>
        </div>
        <p class="keister-msg">"I'm gonna give ya till the count of to get your ugly, no good keister off my property..."</p>
    </div>

    <div class="viewport-lock">
        <div class="grid-container" id="main-grid">
            <div id="reticle"></div>
            </div>
    </div>

    <form name="pixel-claims" method="POST" data-netlify="true" style="display:none;">
        <input type="hidden" name="form-name" value="pixel-claims" />
        <input type="text" name="coords" id="form-coords">
    </form>

    <script>
        /* HUMAN NOTE:
           Graison-P, this is the final hurdle. 
           The grid is waiting. The sounds are ready.
           Feb 15 is the point of no return.
        */

        const MY_NAME = "Graison-P"; // Capitalized for the Boss.
        const grid = document.getElementById('main-grid');
        const timerDisplay = document.getElementById('timer');
        const label = document.getElementById('label');
        
        const introSfx = new Audio('itshere.wav');
        const ringSfx = new Audio('ring.wav');
        let sfxPlayed = false;
        let holdTimer;

        // 1. THE CREATOR CHALLENGE
        document.getElementById('auth-zone').addEventListener('touchstart', () => {
            holdTimer = setTimeout(verifyBoss, 3000); // 3 second hold to peek
        });
        document.getElementById('auth-zone').addEventListener('touchend', () => clearTimeout(holdTimer));

        async function verifyBoss() {
            const token = prompt("Identity check. Token please:");
            if (!token) return;

            label.innerHTML = "CHECKING GITHUB REGISTRY...";
            try {
                const res = await fetch('https://api.github.com/user', {
                    headers: { 'Authorization': `token ${token}` }
                });
                const user = await res.json();

                // Case-insensitive check to be safe, but matching your request
                if (user.login.toLowerCase() === MY_NAME.toLowerCase()) {
                    document.body.classList.add('is-you');
                    alert(`Confirmed. Welcome, ${MY_NAME}.`);
                } else {
                    alert("I'm gonna give ya till the count of to get your ugly, no good keister off my property before I pump ya guts fulla lead!");
                    label.innerHTML = "ACCESS DENIED";
                }
            } catch (e) {
                alert("API is stuttering. Try again.");
            }
        }

        // 2. GRID INTERACTION (Only works if overlay is gone)
        grid.addEventListener('touchmove', (e) => {
            if(!document.body.classList.contains('is-you')) return;
            const rect = grid.getBoundingClientRect();
            const touch = e.touches[0];
            const x = Math.floor((touch.clientX - rect.left) / 10) * 10;
            const y = Math.floor((touch.clientY - rect.top) / 10) * 10;
            
            // Haptic feedback
            if (navigator.vibrate) navigator.vibrate(5);
            
            const ret = document.getElementById('reticle');
            ret.style.display = 'block';
            ret.style.left = x + 'px';
            ret.style.top = y + 'px';
            
            e.preventDefault(); // Stop page scrolling while drawing
        }, {passive: false});

        // 3. THE FINAL COUNTDOWN (Feb 15, 2026)
        const launchTime = new Date("Feb 15, 2026 12:00:00").getTime();

        setInterval(() => {
            const now = new Date().getTime();
            const diff = launchTime - now;

            if (diff <= 5000 && diff > 0 && !sfxPlayed) {
                introSfx.play().catch(() => console.log("Sound blocked until touch"));
                sfxPlayed = true;
                label.innerHTML = "THE HELLISH ADS BEGIN";
            }

            if (diff <= 0) {
                if(sfxPlayed) ringSfx.play();
                document.body.classList.add('is-you'); // DROP THE SHUTTER
            } else {
                const h = Math.floor(diff / 3600000);
                const m = Math.floor((diff % 3600000) / 60000);
                const s = Math.floor((diff % 60000) / 1000);
                timerDisplay.innerHTML = `${h}:${m}:${s}`;
            }
        }, 1000);
    </script>
</body>
</html>
